<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>BookTalk í™ˆ</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <style>
        /* ===== í™ˆ ì „ìš© ìŠ¤ì½”í”„ ===== */
        .home{ color:#e6e8ee; background:#0b0c10; min-height:100vh; }
        .home .wrap{ width:min(1180px,92vw); margin:0 auto; padding:28px 12px 56px; }

        .home .top {
            display: grid;
            gap: 20px;
            grid-template-columns: 1fr 1fr; /* ìƒë‹¨ ììœ /ì¶”ì²œ â†’ 1:1 */
            margin-bottom: 20px;
        }
        .home .bottom {
            display: grid;
            gap: 20px;
            grid-template-columns: 1fr 1fr; /* í•˜ë‹¨ ê¸€ê·€/íŒ¨ë„ â†’ 1:1 */
        }


        @media (max-width: 1024px){
            .home .top{ grid-template-columns: 1fr; }
            .home .bottom{ grid-template-columns: 1fr; }
        }

        /* ì¹´ë“œ ê³µí†µ */
        .home .card{
            background:#15171c; border:1px solid #262a33; border-radius:16px;
            box-shadow:0 12px 28px rgba(0,0,0,.28); overflow:hidden;
        }
        .home .card .head{
            display:flex; align-items:center; justify-content:space-between;
            padding:16px 18px; border-bottom:1px solid #232732;
        }
        .home .card .head h2{ margin:0; font-size:1.08rem; font-weight:800; letter-spacing:.2px; }
        .home .card .head a{ color:#e6e8ee; text-decoration:none; }
        .home .card .head a:hover{ text-decoration:underline; }
        .home .more{ font-size:.92rem; color:#8fb0ff; text-decoration:none; }
        .home .more:hover{ text-decoration:underline; }

        /* ë¦¬ìŠ¤íŠ¸ */
        .home .list{ list-style:none; margin:0; padding:8px 0; }
        .home .item{ padding:12px 18px; border-bottom:1px solid #1b1f27; }
        .home .item:last-child{ border-bottom:none; }

        .home .title-row{
            display:flex; align-items:center; gap:8px; margin-bottom:6px; min-height:22px;
        }
        .home .title{
            color:#e6e8ee; text-decoration:none; font-weight:600; line-height:1.3;
            display:inline-block; max-width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
        }
        .home .title:hover{ text-decoration:underline; }
        .home .cmt{
            flex:0 0 auto; font-size:.86rem; color:#a9afbd; background:#0f1117;
            border:1px solid #232732; padding:2px 6px; border-radius:8px;
        }

        .home .meta{ font-size:.9rem; color:#a9afbd; display:flex; align-items:center; gap:10px; }
        .home .dot{ opacity:.6; }
        .home .likes{ font-weight:600; }
        .home .empty{ padding:18px; color:#a9afbd; }

        /* ì˜¤ë¥¸ìª½ ë²„íŠ¼ íŒ¨ë„ */
        .home .panel{
            background:#15171c; border:1px solid #262a33; border-radius:16px;
            box-shadow:0 12px 28px rgba(0,0,0,.28); padding:18px;
            display:grid; gap:14px;
        }
        .home .panel .bigbtn{
            display:flex; align-items:center; justify-content:center; gap:10px;
            background:#5b8cff; color:#fff; text-decoration:none; padding:16px 18px;
            border-radius:14px; font-weight:800; font-size:1.02rem; border:0;
            box-shadow:0 10px 22px rgba(91,140,255,.25);
        }
        .home .panel .bigbtn.secondary{
            background:#20c997; box-shadow:0 10px 22px rgba(32,201,151,.22);
        }
        .home .panel .bigbtn:hover{ filter:brightness(1.05); }
        .home .panel .sub{
            font-size:.92rem; color:#a9afbd; text-align:center; margin-top:2px;
        }
    </style>
</head>
<body class="home">

<!-- ìƒë‹¨ë°” -->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<main class="wrap">

    <!-- ìƒë‹¨ 2ì¥: ììœ  / ì±…ì¶”ì²œ -->
    <section class="top">

        <!-- ììœ ê²Œì‹œíŒ -->
        <article class="card">
            <div class="head">
                <h2><a th:href="@{/boards/free}">ììœ ê²Œì‹œíŒ</a></h2>
                <a class="more" th:href="@{/boards/free}">ë”ë³´ê¸° â†’</a>
            </div>
            <ul class="list">
                <li class="item" th:each="p : ${recentFree}">
                    <div class="title-row">
                        <a class="title" th:href="@{|/post/${p.id}|}" th:text="${p.title}">ì œëª©</a>
                        <span class="cmt" th:text="|[${p.commentCount}]|">[0]</span>
                    </div>
                    <div class="meta">
                        <span class="author" th:text="${p.authorNickname != null ? p.authorNickname : 'ìµëª…'}">ì‘ì„±ì</span>
                        <span class="dot">Â·</span>
                        <span class="likes" th:text="|â¤ ${p.likeCount}|">â¤ 0</span>
                        <span class="dot">Â·</span>
                        <span class="date" th:text="${#temporals.format(p.createdAt,'yyyy.MM.dd HH:mm')}">2025.01.01 12:00</span>
                    </div>
                </li>
                <li class="empty" th:if="${#lists.isEmpty(recentFree)}">ì•„ì§ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</li>
            </ul>
        </article>

        <!-- ì±…ì¶”ì²œê²Œì‹œíŒ -->
        <article class="card">
            <div class="head">
                <h2><a th:href="@{/boards/recommend}">ì±…ì¶”ì²œê²Œì‹œíŒ</a></h2>
                <a class="more" th:href="@{/boards/recommend}">ë”ë³´ê¸° â†’</a>
            </div>
            <ul class="list">
                <li class="item" th:each="p : ${recentRecommend}">
                    <div class="title-row">
                        <a class="title" th:href="@{|/post/${p.id}|}" th:text="${p.title}">ì œëª©</a>
                        <span class="cmt" th:text="|[${p.commentCount}]|">[0]</span>
                    </div>
                    <div class="meta">
                        <span class="author" th:text="${p.authorNickname != null ? p.authorNickname : 'ìµëª…'}">ì‘ì„±ì</span>
                        <span class="dot">Â·</span>
                        <span class="likes" th:text="|â¤ ${p.likeCount}|">â¤ 0</span>
                        <span class="dot">Â·</span>
                        <span class="date" th:text="${#temporals.format(p.createdAt,'yyyy.MM.dd HH:mm')}">2025.01.01 12:00</span>
                    </div>
                </li>
                <li class="empty" th:if="${#lists.isEmpty(recentRecommend)}">ì•„ì§ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</li>
            </ul>
        </article>

    </section>

    <!-- í•˜ë‹¨: ì¢Œ(í•œì¤„ê¸€ê·€), ìš°(ì±… ê²€ìƒ‰ + ë„ì„œí† ë¡ ) -->
    <section class="bottom">

        <!-- í•œì¤„ê¸€ê·€ê²Œì‹œíŒ -->
        <article class="card">
            <div class="head">
                <h2><a th:href="@{/boards/quotes}">í•œì¤„ê¸€ê·€ê²Œì‹œíŒ</a></h2>
                <a class="more" th:href="@{/boards/quotes}">ë”ë³´ê¸° â†’</a>
            </div>
            <ul class="list">
                <li class="item" th:each="p : ${recentQuotes}">
                    <div class="title-row">
                        <a class="title" th:href="@{|/post/${p.id}|}" th:text="${p.title}">ì œëª©</a>
                        <span class="cmt" th:text="|[${p.commentCount}]|">[0]</span>
                    </div>
                    <div class="meta">
                        <span class="author" th:text="${p.authorNickname != null ? p.authorNickname : 'ìµëª…'}">ì‘ì„±ì</span>
                        <span class="dot">Â·</span>
                        <span class="likes" th:text="|â¤ ${p.likeCount}|">â¤ 0</span>
                        <span class="dot">Â·</span>
                        <span class="date" th:text="${#temporals.format(p.createdAt,'yyyy.MM.dd HH:mm')}">2025.01.01 12:00</span>
                    </div>
                </li>
                <li class="empty" th:if="${#lists.isEmpty(recentQuotes)}">ì•„ì§ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</li>
            </ul>
        </article>

        <!-- ì˜¤ë¥¸ìª½ ë²„íŠ¼ íŒ¨ë„ -->
        <aside class="panel">
            <a class="bigbtn" th:href="@{/books/search}">ğŸ” ì±… ê²€ìƒ‰</a>
            <div class="sub">ì¹´ì¹´ì˜¤ ë„ì„œ ê²€ìƒ‰ìœ¼ë¡œ ì›í•˜ëŠ” ì±…ì„ ì°¾ì•„ë³´ì„¸ìš”</div>
            <a class="bigbtn secondary" th:href="@{/boards/book-discussion}">ğŸ’¬ ë„ì„œí† ë¡  ê²Œì‹œíŒ</a>
            <div class="sub">ì±…ë³„ í† ë¡ ê¸€ ëª¨ì•„ë³´ê¸°</div>
        </aside>

    </section>

</main>
</body>
</html>
