<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>새 글쓰기</title>
    <style>
        body { background:#121212; color:#f5f5f5; font-family:sans-serif; }
        .page { max-width:900px; margin:40px auto; padding:20px; background:#1e1e1e; border-radius:12px; }
        h2 { margin-bottom:20px; color:#fff; }

        .form-group { margin-bottom:16px; }
        label { display:block; margin-bottom:6px; font-weight:600; color:#ddd; }
        input[type="text"], textarea {
            width:100%; padding:10px; border-radius:8px;
            border:1px solid #444; background:#2a2a2a; color:#fff;
        }
        textarea { min-height:200px; resize: vertical; }

        .checkboxes { display:flex; gap:20px; margin-top:10px; }
        .checkboxes label { font-weight:normal; color:#bbb; }

        .actions { margin-top:24px; display:flex; gap:12px; }
        .btn {
            padding:10px 16px; border-radius:8px;
            border:1px solid #555; background:#333; color:#fff;
            text-decoration:none; cursor:pointer;
        }
        .btn.primary { background:#007bff; border-color:#007bff; }
    </style>
</head>
<body>
<div class="page">
    <h2 th:text="${post != null} ? '글 수정하기' : '새 글쓰기'"></h2>

    <!-- 글 작성/수정 폼 -->
    <form th:action="${post != null} ? @{/post/{id}/edit(id=${post.id})} : @{/post}" method="post">

        <!-- 고정 게시판(fixed) 또는 bookId 유지 -->
        <input type="hidden" name="boardId"
               th:value="${boardId != null ? boardId : (post != null ? post.boardId : '')}" />
        <input type="hidden" name="fixed" th:value="${fixed}" />

        <div class="form-group">
            <label for="title">제목</label>
            <input type="text" id="title" name="title"
                   th:value="${post != null} ? ${post.title} : ''" required />
        </div>

        <div class="form-group">
            <label for="content">내용</label>
            <textarea id="content" name="content"
                      th:text="${post != null} ? ${post.content} : ''"></textarea>
        </div>

        <div class="form-group">
            <span>옵션</span>
            <div class="checkboxes">
                <label><input type="checkbox" name="isNotice"
                              th:checked="${post != null} ? ${post.isNotice} : false" /> 공지글</label>
                <label><input type="checkbox" name="isBest"
                              th:checked="${post != null} ? ${post.isBest} : false" /> 개념글</label>
            </div>
        </div>

        <div class="actions">
            <button type="submit" class="btn primary"
                    th:text="${post != null} ? '수정 완료' : '등록하기'"></button>
            <a th:href="@{'/boards/' + ${fixed}}" class="btn">목록으로</a>
        </div>
    </form>
</div>
</body>
</html>
